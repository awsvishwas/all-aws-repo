<!DOCTYPE html>
<html>
  <head>
    <title>Website Counter</title>
  <body>
<h1> This is Website Counter Sample page</h1>
<p>You are visitor number: <span id="visitors"></span></p>

<script>
// GET API REQUEST
async function get_visitors() {
    // call post api request function
    //await post_visitor();
    try {
        let response = await fetch('https://j8lobmiw54.execute-api.us-east-1.amazonaws.com/default/VisitorCounter', {
            method: 'GET',
        });
        let data = await response.json()
        document.getElementById("visitors").innerHTML = data['count'];
        console.log(data);
        return data;
    } catch (err) {
        console.error(err);
    }
}


get_visitors();

</script>
  </body>
</html>
